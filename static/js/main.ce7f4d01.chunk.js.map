{"version":3,"sources":["firebase-config.js","services/book.services.js","components/AddBook.js","components/BooksList.js","App.js","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","bookCollectionRef","collection","addBooks","newBook","addDoc","updateBook","id","updatedBook","bookDoc","doc","updateDoc","deleteBook","deleteDoc","getAllBooks","getDocs","getBook","getDoc","AddBook","setBookId","useState","title","setTitle","author","setAuthor","status","setStatus","flag","setFlag","error","msg","message","setMessage","handleSubmit","e","a","preventDefault","console","log","undefined","BookDataService","editHandler","docSnap","data","useEffect","className","Alert","variant","dismissible","onClose","Form","onSubmit","Group","controlId","InputGroup","Text","Control","type","placeholder","value","onChange","target","ButtonGroup","Button","disabled","onClick","BooksList","getBookId","books","setBooks","getBooks","docs","map","deleteHandler","Table","striped","bordered","hover","size","index","App","bookId","Navbar","bg","Container","Brand","href","style","width","Row","Col","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ce7f4d01.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCnnddIJlBVk8bAxkULLQaQNA2aBilgdn4\",\n  authDomain: \"system-of-medicine.firebaseapp.com\",\n  projectId: \"system-of-medicine\",\n  storageBucket: \"system-of-medicine.appspot.com\",\n  messagingSenderId: \"791780435590\",\n  appId: \"1:791780435590:web:fcef39d82f11f15a4c5307\",\n  measurementId: \"G-690XXH2QPQ\"\n};\n\nconst app = initializeApp(firebaseConfig);\n\nexport const db = getFirestore(app);\n","import { db } from \"../firebase-config\";\n\nimport {\n  collection,\n  getDocs,\n  getDoc,\n  addDoc,\n  updateDoc,\n  deleteDoc,\n  doc,\n} from \"firebase/firestore\";\n\nconst bookCollectionRef = collection(db, \"books\");\nclass BookDataService {\n  addBooks = (newBook) => {\n    return addDoc(bookCollectionRef, newBook);\n  };\n\n  updateBook = (id, updatedBook) => {\n    const bookDoc = doc(db, \"books\", id);\n    return updateDoc(bookDoc, updatedBook);\n  };\n\n  deleteBook = (id) => {\n    const bookDoc = doc(db, \"books\", id);\n    return deleteDoc(bookDoc);\n  };\n\n  getAllBooks = () => {\n    return getDocs(bookCollectionRef);\n  };\n\n  getBook = (id) => {\n    const bookDoc = doc(db, \"books\", id);\n    return getDoc(bookDoc);\n  };\n}\n\nexport default new BookDataService();\n","import React, { useState, useEffect } from \"react\";\nimport { Form, Alert, InputGroup, Button, ButtonGroup } from \"react-bootstrap\";\nimport BookDataService from \"../services/book.services\";\n\nconst AddBook = ({ id, setBookId }) => {\n  const [title, setTitle] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n  const [status, setStatus] = useState(\"Available\");\n  const [flag, setFlag] = useState(true);\n  const [message, setMessage] = useState({ error: false, msg: \"\" });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMessage(\"\");\n    if (title === \"\" || author === \"\") {\n      setMessage({ error: true, msg: \"All fields are mandatory!\" });\n      return;\n    }\n    const newBook = {\n      title,\n      author,\n      status,\n    };\n    console.log(newBook);\n\n    try {\n      if (id !== undefined && id !== \"\") {\n        await BookDataService.updateBook(id, newBook);\n        setBookId(\"\");\n        setMessage({ error: false, msg: \"Updated successfully!\" });\n      } else {\n        await BookDataService.addBooks(newBook);\n        setMessage({ error: false, msg: \"New Book added successfully!\" });\n      }\n    } catch (err) {\n      setMessage({ error: true, msg: err.message });\n    }\n\n    setTitle(\"\");\n    setAuthor(\"\");\n  };\n\n  const editHandler = async () => {\n    setMessage(\"\");\n    try {\n      const docSnap = await BookDataService.getBook(id);\n      console.log(\"the record is :\", docSnap.data());\n      setTitle(docSnap.data().title);\n      setAuthor(docSnap.data().author);\n      setStatus(docSnap.data().status);\n    } catch (err) {\n      setMessage({ error: true, msg: err.message });\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"The id here is : \", id);\n    if (id !== undefined && id !== \"\") {\n      editHandler();\n    }\n  }, [id]);\n  return (\n    <>\n      <div className=\"p-4 box\">\n        {message?.msg && (\n          <Alert\n            variant={message?.error ? \"danger\" : \"success\"}\n            dismissible\n            onClose={() => setMessage(\"\")}\n          >\n            {message?.msg}\n          </Alert>\n        )}\n\n        <Form onSubmit={handleSubmit}>\n          <Form.Group className=\"mb-3\" controlId=\"formBookTitle\">\n            <InputGroup>\n              <InputGroup.Text id=\"formBookTitle\">B</InputGroup.Text>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Book Title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n              />\n            </InputGroup>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBookAuthor\">\n            <InputGroup>\n              <InputGroup.Text id=\"formBookAuthor\">A</InputGroup.Text>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Book Author\"\n                value={author}\n                onChange={(e) => setAuthor(e.target.value)}\n              />\n            </InputGroup>\n          </Form.Group>\n          <ButtonGroup aria-label=\"Basic example\" className=\"mb-3\">\n            <Button\n              disabled={flag}\n              variant=\"success\"\n              onClick={(e) => {\n                setStatus(\"Available\");\n                setFlag(true);\n              }}\n            >\n              Available\n            </Button>\n            <Button\n              variant=\"danger\"\n              disabled={!flag}\n              onClick={(e) => {\n                setStatus(\"Not Available\");\n                setFlag(false);\n              }}\n            >\n              Not Available\n            </Button>\n          </ButtonGroup>\n          <div className=\"d-grid gap-2\">\n            <Button variant=\"primary\" type=\"Submit\">\n              Add/ Update\n            </Button>\n          </div>\n        </Form>\n      </div>\n    </>\n  );\n};\n\nexport default AddBook;\n","import React, { useEffect, useState } from \"react\";\nimport { Table, Button } from \"react-bootstrap\";\nimport BookDataService from \"../services/book.services\";\n\nconst BooksList = ({ getBookId }) => {\n  const [books, setBooks] = useState([]);\n  useEffect(() => {\n    getBooks();\n  }, []);\n\n  const getBooks = async () => {\n    const data = await BookDataService.getAllBooks();\n    console.log(data.docs);\n    setBooks(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\n  };\n\n  const deleteHandler = async (id) => {\n    await BookDataService.deleteBook(id);\n    getBooks();\n  };\n  return (\n    <>\n      <div className=\"mb-2\">\n        <Button variant=\"dark edit\" onClick={getBooks}>\n          Refresh List\n        </Button>\n      </div>\n\n      {/* <pre>{JSON.stringify(books, undefined, 2)}</pre>} */}\n      <Table striped bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Book Title</th>\n            <th>Book Author</th>\n            <th>Status</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          {books.map((doc, index) => {\n            return (\n              <tr key={doc.id}>\n                <td>{index + 1}</td>\n                <td>{doc.title}</td>\n                <td>{doc.author}</td>\n                <td>{doc.status}</td>\n                <td>\n                  <Button\n                    variant=\"secondary\"\n                    className=\"edit\"\n                    onClick={(e) => getBookId(doc.id)}\n                  >\n                    Edit\n                  </Button>\n                  <Button\n                    variant=\"danger\"\n                    className=\"delete\"\n                    onClick={(e) => deleteHandler(doc.id)}\n                  >\n                    Delete\n                  </Button>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n    </>\n  );\n};\n\nexport default BooksList;\n","import { useState } from \"react\";\nimport { Container, Navbar, Row, Col } from \"react-bootstrap\";\nimport AddBook from \"./components/AddBook\";\nimport BooksList from \"./components/BooksList\";\nimport \"./App.css\";\n\nfunction App() {\n  const [bookId, setBookId] = useState(\"\");\n\n  const getBookIdHandler = (id) => {\n    console.log(\"The ID of document to be edited: \", id);\n    setBookId(id);\n  };\n  return (\n    <>\n      <Navbar bg=\"dark\" variant=\"dark\" className=\"header\">\n        <Container>\n          <Navbar.Brand href=\"#home\">Library - Firebase CRUD</Navbar.Brand>\n        </Container>\n      </Navbar>\n\n      <Container style={{ width: \"400px\" }}>\n        <Row>\n          <Col>\n            <AddBook id={bookId} setBookId={setBookId} />\n          </Col>\n        </Row>\n      </Container>\n      <Container>\n        <Row>\n          <Col>\n            <BooksList getBookId={getBookIdHandler} />\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}